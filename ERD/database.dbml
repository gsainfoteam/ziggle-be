Project Ziggle {
    database_type: 'mysql'
}

Enum FileType {
    IMAGE
    DOCUMENT
}

Table User {
    uuid varchar [pk]
    name varchar
    created_at timestamp
    consent boolean
}

Table File {
    uuid varchar [pk]
    name varchar
    created_at timestamp
    url varchar
    type FileType
    notice_id integer [ref: > Notice.id]
}

Table Content {
    id integer [pk, increment]

    deadline timestamp
    created_at timestamp

    notice_id integer [ref: > Notice.id]
}

Table Body {
    id integer [pk, increment]
    
    lang varchar
    detail text

    content_id integer [ref: > Content.id]
}

Table Notice {
    id integer [pk, increment]

    title varchar
    views integer
    current_deadline date
    created_at timestamp
    deleted_at timestamp

    author_id varchar [ref: > User.uuid]
    reminders varchar [ref: <> User.uuid]
    tags integer [ref: <> Tag.id]
}

Table Tag {
    id integer [pk, increment]
    name varchar
}

Table FcmToken {
    token varchar [pk]
    createdAt timestamp
    lastCheckAt timestamp
    successCount integer
    failCount integer
    errors varchar
    user varchar [ref: > User.uuid]
}